<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        * {
            box-sizing: border-box;
        }

        .row::after {
            content: "";
            clear: both;
            display: table;
        }

        html {
            font-family: "Lucida Sans", sans-serif;
        }

        .header {
            background-color: #33b5e5;
            color: #ffffff;
            padding: 15px;
            text-align: center;
            z-index: 1000;
        }

        .row {
            background-color: #d3d3d3;
            color: #000000;
            padding: 15px;
            text-align: center;
            height: 300px;
        }

        #imgpos {
            width: 95%;
            height: 70%;
        }

        @media screen and (max-width: 320px) {
            #body {
                width: 320px;
                height: 480px;
            }
            #imgpos {
                padding: 0
            }
        }
    </style>
    <script src="/jquery" ></script>

</head>

<body id="body">

    <div class="header">
        <div class="headpos">
            <h1>NodeShot</h1>
        </div>
    </div>

    <div class="row">
        <div>
            <div id='inputpos'>
                <br> URL : <input type="text" name="url" value="google.com" id="url"><br>
                <input type="button" value="Submit" onClick="dataSubmit()" id="submit"><br>
            </div>
            <img src="" id="imgpos" style="display: none" />
        </div>
    </div>
    <script type="text/javascript">
        function dataSubmit() {
            var url = $("#url").val();
            if (!url) {
                alert("please provide url");
                return;
            }
            $.ajax({
                url: "/img",
                type: 'post',
                data: JSON.stringify({
                    url: url,
                    resolution: {
                        width: screen.width,
                        height: screen.height
                    }
                }),
                contentType: 'application/json; charset=UTF-8'
            }).done(function(res) {
                $("#imgpos").attr("src", "/img/" + res);
                $("#imgpos").css("display", "");
                $("#navpos").css("display", "");
                //$("#inputpos").css("display", "none");
            });
        }
    </script>
</body>

</html>
